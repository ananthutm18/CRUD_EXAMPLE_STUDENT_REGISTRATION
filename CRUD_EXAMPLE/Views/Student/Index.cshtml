@model IEnumerable <CRUD_EXAMPLE.Models.Student>
@{
ViewBag.Title="Index";
}
<h2>Index</h2>


@if(TempData["InfoMessage"]!=null)

    {

<div class="alert alert-info">

    @TempData["InfoMessage"]

</div>

    }



<p>
    @Html.ActionLink("Create New","Create" )
</p>


<table class="table table-bordered table-hover table-responsive">
    <tr>

        <th>
            @Html.DisplayNameFor(model=>model.FirstName)
        </th>
        <th>
            @Html.DisplayNameFor(model=>model.LastName)
        </th>

        <th>
            @Html.DisplayNameFor(model=>model.Phone)
        </th>

        <th>
            @Html.DisplayNameFor(model=>model.Address)
        </th>

        <th>
            @Html.DisplayNameFor(model=>model.Gender)

        <th>
            @Html.DisplayNameFor(model=>model.Dob)
        <th>
            @Html.DisplayNameFor(model=>model.City)
        <th>
            @Html.DisplayNameFor(model=>model.State)
        </th>

        <th>
            @Html.DisplayNameFor(model=>model.Pin)
        </th>
        <th>
            @Html.DisplayNameFor(model=>model.Email)
        </th>



        <th>
            Image
        </th>
        <th>
            Resume
        </th>
        <th>
            Operations
        </th>


    </tr>

    @foreach(var item in Model)
    {
    <tr>
        <td>
            @Html.DisplayFor(modelItem=>item.FirstName)
        </td>

        <td>
            @Html.DisplayFor(modelItem=>item.LastName)
        </td>

        <td>
            @Html.DisplayFor(modelItem=>item.Phone)
        </td>
        <td>
            @Html.DisplayFor(modelItem=>item.Address)
        </td>

        <td>
            @Html.DisplayFor(modelItem=>item.Gender)
        </td>

        <td>
            @Html.DisplayFor(modelItem=>item.Dob)
        </td>

        <td>
            @Html.DisplayFor(modelItem=>item.City)
        </td>
        <td>
            @Html.DisplayFor(modelItem=>item.State)
        </td>
        <td>
            @Html.DisplayFor(modelItem=>item.Pin)
        </td>

        <td>
            @Html.DisplayFor(modelItem=>item.Email)
        </td>

        <td>

            @if (item.ImageData != null)
                    {
                        var base64 = Convert.ToBase64String(item.ImageData);
                        var imgSrc = String.Format("data:image/png;base64,{0}", base64);
            <img src="@imgSrc" alt="Student Image" style="max-width: 50px; max-height: 50px;" />
                    }
                    else
                    {
            <span>No Image</span>
                    }

        </td>

        <td>

            @if (item.PdfData != null)
                {
            <a href="@Url.Action("GetPdf", new { id = item.StudentID })" download="student.pdf">Download PDF</a>

                }
                else
                {
            <span>No PDF</span>
                }
        </td>


        <td>
            @Html.ActionLink("Edit", "Edit", new {id=item.StudentID}, new {@class="btn btn-primary"})
            @Html.ActionLink("Details", "Details", new {id=item.StudentID},new {@class="btn btn-success"})
            @Html.ActionLink("Delete", "Delete", new {id=item.StudentID},new {@class="btn btn-danger"})


        </td>
    </tr>
    }




</table>